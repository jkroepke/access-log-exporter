user              nginx;
worker_processes  auto;

pid        /run/nginx.pid;

events {
  worker_connections  1024;
}

http {
  log_format accesslog_exporter '$http_host\t$request_method\t$status\t$request_time\t$request_length\t$bytes_sent';
  access_log syslog:server=127.0.0.1:8514,nohostname accesslog_exporter;

  server {
    listen       8080;
    server_name  localhost;

    location = /200 {
      return 200 "OK";
    }
    location = /204 {
      return 204 "No Content";
    }
    location = /404 {
      return 404 "Not Found";
    }
    location = /500 {
      return 500 "Internal Server Error";
    }

    location /proxy/ {
      proxy_pass http://127.0.0.1:8080/;
    }
  }
}
